<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <title>MinPipelineExample</title>
    <link rel="stylesheet" href="../JQuery/jquery-ui.css">
    <link rel="stylesheet" href="css/jqUIExtend.css">
    <link rel="stylesheet" href="css/mpCss.css">
    <script src="../JQuery/jquery-3.4.1.min.js"></script>
    <script src="../JQuery/jquery-ui.min.js"></script>
    <script src="../JQuery/jquery.mousewheel.min.js"></script>
    <link rel="stylesheet" href="../codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="css/codewarm.css">
    <script src="../codemirror/lib/codemirror.js"></script>
    <script src="../codemirror/mode/javascript/javascript.js"></script>
    <script src="js/MyLibrary.js"></script>
    <script src="js/CodeLibrary.js"></script>
    <script src="js/MinPipelineCore.js"></script>
    <script src="js/MyVector.js"></script>
    <script src="js/MyMatrix.js"></script>
    <script src="js/OperatorOverride.js"></script>
</head>

<body>
    <div id="topDiv"></div>
    <div id="bufferDiv"></div>
    <div id="codeDiv">
        <div id="codeContentDiv">
            <ul>
            </ul>
        </div>
        <button id="rB" style="float:right">Run</button>
        <button id="dB" style="float:right">保存</button>
        <button id="cB" style="float:left">清空并刷新</button>
        <!--<div id="codeReferenceDiv"></div>-->
        <div id="errorLog"></div>
    </div>



    <pipeline></pipeline>
    <noscript>抱歉，你的浏览器不支持 JavaScript!</noscript>

    <tempData style="display: none;">
#mpObject["_name"] = "test";
#mpObject["_description"] = "test";
#mpObject["display"] = true;
#mpObject["bufferSections"]=new Array();
#mpObject["bufferSections"][0]=new BufferSection();
#mpObject["bufferSections"][0]["_name"] = "输出";
#mpObject["bufferSections"][0]["_description"] = "最终输出";
#mpObject["bufferSections"][0]["display"] = true;
#mpObject["bufferSections"][0]["_dataNodes"]=new Array();
#mpObject["bufferSections"][0]["_codeSection"]=new CodeSection();
#mpObject["bufferSections"][0]["_codeSection"]["_name"] = "数据操作方法组";
#mpObject["bufferSections"][0]["_codeSection"]["_description"] = "new";
#mpObject["bufferSections"][0]["_codeSection"]["display"] = true;
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"]=new Array();
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][0]=new CodeDataJavaScript();
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][0]["_name"] = "Draw";
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][0]["_description"] = "设置颜色";
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][0]["display"] = true;
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][0]["_codeText"] = "OutColor(vec4(0));\ncoord=vec2(Math.floor(uv.x*256+256),Math.floor(uv.y*256+256));\n\nOutColor(coord.x-2,coord.y-2,vec4(1));\nOutColor(coord.x-1,coord.y-2,vec4(1));\nOutColor(coord.x,coord.y-2,vec4(1));\nOutColor(coord.x+1,coord.y-2,vec4(1));\nOutColor(coord.x+2,coord.y-2,vec4(1));\nOutColor(coord.x-2,coord.y-1,vec4(1));\nOutColor(coord.x-1,coord.y-1,vec4(1));\nOutColor(coord.x,coord.y-1,vec4(1));\nOutColor(coord.x+1,coord.y-1,vec4(1));\nOutColor(coord.x+2,coord.y-1,vec4(1));\nOutColor(coord.x-2,coord.y,vec4(1));\nOutColor(coord.x-1,coord.y,vec4(1));\nOutColor(coord.x,coord.y,vec4(1));\nOutColor(coord.x+1,coord.y,vec4(1));\nOutColor(coord.x+2,coord.y,vec4(1));\nOutColor(coord.x-2,coord.y+1,vec4(1));\nOutColor(coord.x-1,coord.y+1,vec4(1));\nOutColor(coord.x,coord.y+1,vec4(1));\nOutColor(coord.x+1,coord.y+1,vec4(1));\nOutColor(coord.x+2,coord.y+1,vec4(1));\nOutColor(coord.x-2,coord.y+2,vec4(1));\nOutColor(coord.x-1,coord.y+2,vec4(1));\nOutColor(coord.x,coord.y+2,vec4(1));\nOutColor(coord.x+1,coord.y+2,vec4(1));\nOutColor(coord.x+2,coord.y+2,vec4(1));";
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][1]=new CodeDataJavaScript();
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][1]["_name"] = "ClearCanvas";
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][1]["_description"] = "清除画布";
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][1]["display"] = true;
#mpObject["bufferSections"][0]["_codeSection"]["_codeNodes"][1]["_codeText"] = "OutColor(vec4(0));";
#mpObject["bufferSections"][1]=new BufferSection();
#mpObject["bufferSections"][1]["_name"] = "表层数据";
#mpObject["bufferSections"][1]["_description"] = "第一层数据";
#mpObject["bufferSections"][1]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"]=new Array();
#mpObject["bufferSections"][1]["_dataNodes"][0]=new BufferDataF1();
#mpObject["bufferSections"][1]["_dataNodes"][0]["_name"] = "time";
#mpObject["bufferSections"][1]["_dataNodes"][0]["_description"] = "记录当前时间";
#mpObject["bufferSections"][1]["_dataNodes"][0]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][0]["_x"]=new Number();
#mpObject["bufferSections"][1]["_dataNodes"][1]=new BufferDataF1();
#mpObject["bufferSections"][1]["_dataNodes"][1]["_name"] = "fps";
#mpObject["bufferSections"][1]["_dataNodes"][1]["_description"] = "暂时没什么用";
#mpObject["bufferSections"][1]["_dataNodes"][1]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][1]["_x"]=new Number();
#mpObject["bufferSections"][1]["_dataNodes"][2]=new BufferDataF2();
#mpObject["bufferSections"][1]["_dataNodes"][2]["_name"] = "coord";
#mpObject["bufferSections"][1]["_dataNodes"][2]["_description"] = "Des";
#mpObject["bufferSections"][1]["_dataNodes"][2]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][3]=new BufferDataF4();
#mpObject["bufferSections"][1]["_dataNodes"][3]["_name"] = "pos";
#mpObject["bufferSections"][1]["_dataNodes"][3]["_description"] = "Des";
#mpObject["bufferSections"][1]["_dataNodes"][3]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][4]=new BufferDataF2();
#mpObject["bufferSections"][1]["_dataNodes"][4]["_name"] = "uuuv";
#mpObject["bufferSections"][1]["_dataNodes"][4]["_description"] = "uv坐标，0~1";
#mpObject["bufferSections"][1]["_dataNodes"][4]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][4]["_x"] = 0.09546239999976029;
#mpObject["bufferSections"][1]["_dataNodes"][4]["_y"] = 0.65368000000194;
#mpObject["bufferSections"][1]["_dataNodes"][5]=new BufferDataF4();
#mpObject["bufferSections"][1]["_dataNodes"][5]["_name"] = "uv";
#mpObject["bufferSections"][1]["_dataNodes"][5]["_description"] = "记录颜色，0~1";
#mpObject["bufferSections"][1]["_dataNodes"][5]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][5]["_x"] = 0.9799402622286909;
#mpObject["bufferSections"][1]["_dataNodes"][5]["_y"] = 0.07778692546224775;
#mpObject["bufferSections"][1]["_dataNodes"][5]["_z"] = 0.25788058407122294;
#mpObject["bufferSections"][1]["_dataNodes"][5]["_w"] = 0.2616605470618733;
#mpObject["bufferSections"][1]["_dataNodes"][6]=new BufferDataF3();
#mpObject["bufferSections"][1]["_dataNodes"][6]["_name"] = "cam";
#mpObject["bufferSections"][1]["_dataNodes"][6]["_description"] = "Des";
#mpObject["bufferSections"][1]["_dataNodes"][6]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][7]=new BufferDataMatrix();
#mpObject["bufferSections"][1]["_dataNodes"][7]["_name"] = "matt";
#mpObject["bufferSections"][1]["_dataNodes"][7]["_description"] = "Des";
#mpObject["bufferSections"][1]["_dataNodes"][7]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][8]=new BufferDataTexture();
#mpObject["bufferSections"][1]["_dataNodes"][8]["_name"] = "OutColor";
#mpObject["bufferSections"][1]["_dataNodes"][8]["_description"] = "最终输出的颜色";
#mpObject["bufferSections"][1]["_dataNodes"][8]["display"] = true;
#mpObject["bufferSections"][1]["_dataNodes"][8]["_width"] = 512;
#mpObject["bufferSections"][1]["_dataNodes"][8]["_height"] = 512;
#mpObject["bufferSections"][1]["_dataNodes"][8].Resize();
#mpObject["bufferSections"][1]["_codeSection"]=new CodeSection();
#mpObject["bufferSections"][1]["_codeSection"]["_name"] = "渲染循环";
#mpObject["bufferSections"][1]["_codeSection"]["_description"] = "new";
#mpObject["bufferSections"][1]["_codeSection"]["display"] = true;
#mpObject["bufferSections"][1]["_codeSection"]["_codeNodes"]=new Array();
#mpObject["bufferSections"][1]["_codeSection"]["_codeNodes"][0]=new CodeDataJavaScript();
#mpObject["bufferSections"][1]["_codeSection"]["_codeNodes"][0]["_name"] = "Cal";
#mpObject["bufferSections"][1]["_codeSection"]["_codeNodes"][0]["_description"] = "渲染循环主体";
#mpObject["bufferSections"][1]["_codeSection"]["_codeNodes"][0]["display"] = true;
#mpObject["bufferSections"][1]["_codeSection"]["_codeNodes"][0]["_codeText"] = "vMat.SetTransition(cam);\nuv = pMat*vMat*pos;\n\nDraw();";
#mpObject["bufferSections"][2]=new BufferSection();
#mpObject["bufferSections"][2]["_name"] = "Matt";
#mpObject["bufferSections"][2]["_description"] = "New";
#mpObject["bufferSections"][2]["display"] = true;
#mpObject["bufferSections"][2]["_dataNodes"]=new Array();
#mpObject["bufferSections"][2]["_dataNodes"][0]=new BufferDataF1();
#mpObject["bufferSections"][2]["_dataNodes"][0]["_name"] = "Name";
#mpObject["bufferSections"][2]["_dataNodes"][0]["_description"] = "Des";
#mpObject["bufferSections"][2]["_dataNodes"][0]["display"] = true;
#mpObject["bufferSections"][2]["_dataNodes"][0]["_x"]=new Number();
#mpObject["bufferSections"][2]["_dataNodes"][1]=new BufferDataF2();
#mpObject["bufferSections"][2]["_dataNodes"][1]["_name"] = "Name";
#mpObject["bufferSections"][2]["_dataNodes"][1]["_description"] = "Des";
#mpObject["bufferSections"][2]["_dataNodes"][1]["display"] = true;
#mpObject["bufferSections"][2]["_dataNodes"][2]=new BufferDataF3();
#mpObject["bufferSections"][2]["_dataNodes"][2]["_name"] = "oooo";
#mpObject["bufferSections"][2]["_dataNodes"][2]["_description"] = "Des";
#mpObject["bufferSections"][2]["_dataNodes"][2]["display"] = true;
#mpObject["bufferSections"][2]["_dataNodes"][3]=new BufferDataTexture();
#mpObject["bufferSections"][2]["_dataNodes"][3]["_name"] = "Name";
#mpObject["bufferSections"][2]["_dataNodes"][3]["_description"] = "Des";
#mpObject["bufferSections"][2]["_dataNodes"][3]["display"] = true;
#mpObject["bufferSections"][2]["_dataNodes"][3]["_width"] = 256;
#mpObject["bufferSections"][2]["_dataNodes"][3]["_height"] = 256;
#mpObject["bufferSections"][2]["_dataNodes"][3].Resize();
#mpObject["bufferSections"][2]["_dataNodes"][4]=new BufferDataMatrix();
#mpObject["bufferSections"][2]["_dataNodes"][4]["_name"] = "vMat";
#mpObject["bufferSections"][2]["_dataNodes"][4]["_description"] = "Des";
#mpObject["bufferSections"][2]["_dataNodes"][4]["display"] = true;
#mpObject["bufferSections"][2]["_dataNodes"][5]=new BufferDataMatrix();
#mpObject["bufferSections"][2]["_dataNodes"][5]["_name"] = "pMat";
#mpObject["bufferSections"][2]["_dataNodes"][5]["_description"] = "Des";
#mpObject["bufferSections"][2]["_dataNodes"][5]["display"] = true;
#mpObject["bufferSections"][2]["_codeSection"]=new CodeSection();
#mpObject["bufferSections"][2]["_codeSection"]["_name"] = "new";
#mpObject["bufferSections"][2]["_codeSection"]["_description"] = "new";
#mpObject["bufferSections"][2]["_codeSection"]["display"] = true;
#mpObject["bufferSections"][2]["_codeSection"]["_codeNodes"]=new Array();
#mpObject["bufferSections"][2]["_codeSection"]["_codeNodes"][0]=new CodeDataJavaScript();
#mpObject["bufferSections"][2]["_codeSection"]["_codeNodes"][0]["_name"] = "Fake";
#mpObject["bufferSections"][2]["_codeSection"]["_codeNodes"][0]["_description"] = "描述";
#mpObject["bufferSections"][2]["_codeSection"]["_codeNodes"][0]["display"] = true;
#mpObject["bufferSections"][2]["_codeSection"]["_codeNodes"][0]["_codeText"] = "pMat = Matrix.PerspectiveProjectionAspect(60,1,0.1,1000);\nCal();";
#mpObject["mainCodeData"]=new CodeDataJavaScript();
#mpObject["mainCodeData"]["_name"] = "main";
#mpObject["mainCodeData"]["_description"] = "函数入口";
#mpObject["mainCodeData"]["display"] = true;
#mpObject["mainCodeData"]["_codeText"] = "Fake();\n";
    </tempData>
    <script src="mpTest.js"></script>
</body>

</html>